function checkFiles(e,i){var s=require("glob").sync("**/*",{cwd:e,dot:!0,mark:!0});i.forEach(function(i){var r=!1,n="/"!==i.slice(-1)?"regular file":"directory";-1!==s.indexOf(i)&&(r="/"!==i.slice(-1)?fs.statSync(path.resolve(e,i)).isFile():"/"===s[s.indexOf(i)].slice(-1)),it('"'+i+'" should be present and it should be a '+n,function(){assert.equal(!0,r)})}),s.filter(function(e){return-1===i.indexOf(e)}).forEach(function(e){it('"'+e+'" should NOT be present',function(){assert(!1)})})}function runTests(){describe("Test if all the expected files, and only them, are present in the build directories",function(){describe(dirs.archive,function(){checkFiles(dirs.archive,expectedFilesInArchiveDir)}),describe(dirs.dist,function(){checkFiles(dirs.dist,expectedFilesInDistDir)})})}var assert=require("assert"),fs=require("fs"),path=require("path"),pkg=require("./../package.json"),dirs=pkg["h5bp-configs"].directories,expectedFilesInArchiveDir=[pkg.name+"_v"+pkg.version+".zip"],expectedFilesInDistDir=[".editorconfig",".gitattributes",".gitignore",".htaccess","404.html","apple-touch-icon.png","browserconfig.xml","crossdomain.xml","css/","css/main.css","css/normalize.css","doc/","doc/TOC.md","doc/css.md","doc/extend.md","doc/faq.md","doc/html.md","doc/js.md","doc/misc.md","doc/usage.md","favicon.ico","humans.txt","img/","img/.gitignore","index.html","js/","js/main.js","js/plugins.js","js/vendor/","js/vendor/jquery-"+pkg.devDependencies.jquery+".min.js","js/vendor/modernizr-2.8.3.min.js","robots.txt","tile-wide.png","tile.png"];runTests();